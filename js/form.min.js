"use strict";document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("form");function t(e){e.parentElement.classList.add("_error"),e.classList.add("_error")}function s(e){e.parentElement.classList.remove("_error"),e.classList.remove("_error")}e.addEventListener("submit",(async function(n){n.preventDefault();let r=function(e){let n=0,r=document.querySelectorAll("._req");for(let e=0;e<r.length;e++){const i=r[e];s(i),""===i.value&&(t(i),n++)}return n}(),i=new FormData(e);const a=document.querySelector(".result-popap");if(a.addEventListener("click",(function(){a.classList.remove("_active")})),0===r){e.classList.add("_sending");let t=await fetch("./sendmail.php",{method:"POST",body:i});if(t.ok){e.classList.remove("_sending"),a.classList.add("_active"),a.innerHTML=s,e.reset();let s=await t.json()}else e.classList.remove("_sending"),a.classList.add("_active"),a.innerHTML="Server error"}else a.classList.add("_active"),a.innerHTML="Fill in required fields"}))}));